{"ast":null,"code":"var _jsxFileName = \"/Users/nylon/itmo/web/fourth/Lab4/frontend/src/view/components/UserInput.js\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { Slider } from \"primereact/slider\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { Button } from 'primereact/button';\nimport \"primereact/resources/themes/lara-light-indigo/theme.css\";\nimport \"primereact/resources/primereact.min.css\";\nimport \"primeicons/primeicons.css\";\nimport { addHit, changeR } from \"../../store/userSlice\";\nimport { addHitRequest } from \"../../service/Service\";\nimport { showError } from \"../../store/errorSlice\";\nimport \"../../resources/UserInput.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserInput = () => {\n  _s();\n  const dispatch = useDispatch();\n  const userInfo = useSelector(state => state.user);\n  const [point, setPoint] = useState({\n    x: 0.0,\n    y: 0.0,\n    r: userInfo.r\n  });\n  const [isLoading, setLoading] = useState(false);\n  const handleRChange = e => {\n    dispatch(changeR(e.value));\n    setPoint({\n      ...point,\n      r: e.value\n    });\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    const response = await addHitRequest(point, userInfo.token);\n    if (response.message) {\n      dispatch(showError({\n        detail: response.message\n      }));\n      return;\n    }\n    dispatch(addHit(response));\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"controller col-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      id: \"controller-title\",\n      children: \"Control pane\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coordinateInput\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"coordinateName\",\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        value: point.x,\n        min: -5,\n        max: 3,\n        step: 0.01,\n        onChange: e => setPoint({\n          ...point,\n          x: e.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"coordinateValue\",\n        children: point.x\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coordinateInput\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"coordinateName\",\n        children: \"Y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        value: point.y,\n        min: -5,\n        max: 5,\n        step: 0.01,\n        onChange: e => setPoint({\n          ...point,\n          y: e.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"coordinateValue\",\n        children: point.y\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coordinateInput\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"coordinateName\",\n        children: \"R\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        value: point.r,\n        min: 0.5,\n        max: 3,\n        step: 0.5,\n        onChange: handleRChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"coordinateValue\",\n        children: point.r\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"submitButton coordinateInput\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Check\",\n        icon: \"pi pi-times-circle\",\n        iconPos: \"right\",\n        loading: isLoading,\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(UserInput, \"Zb69eeQIn36xPnMLaUQq9tuwF3E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = UserInput;\nexport default UserInput;\nvar _c;\n$RefreshReg$(_c, \"UserInput\");","map":{"version":3,"names":["useDispatch","useSelector","useState","Slider","InputNumber","Button","addHit","changeR","addHitRequest","showError","UserInput","dispatch","userInfo","state","user","point","setPoint","x","y","r","isLoading","setLoading","handleRChange","e","value","handleSubmit","response","token","message","detail"],"sources":["/Users/nylon/itmo/web/fourth/Lab4/frontend/src/view/components/UserInput.js"],"sourcesContent":["import {useDispatch, useSelector} from \"react-redux\";\nimport {useState} from \"react\";\nimport {Slider} from \"primereact/slider\";\nimport {InputNumber} from \"primereact/inputnumber\";\nimport { Button } from 'primereact/button';\n\nimport \"primereact/resources/themes/lara-light-indigo/theme.css\";\nimport \"primereact/resources/primereact.min.css\";\nimport \"primeicons/primeicons.css\";\n\nimport {addHit, changeR} from \"../../store/userSlice\";\nimport {addHitRequest} from \"../../service/Service\";\nimport {showError} from \"../../store/errorSlice\";\n\nimport \"../../resources/UserInput.css\"\n\nconst UserInput = () => {\n    const dispatch = useDispatch();\n\n    const userInfo = useSelector(state => state.user);\n\n    const [point, setPoint] = useState({\n        x: 0.0,\n        y: 0.0,\n        r: userInfo.r,\n    });\n\n    const [isLoading, setLoading] = useState(false);\n\n    const handleRChange = (e) => {\n        dispatch(changeR(e.value))\n        setPoint({ ...point, r: e.value })\n    };\n\n    const handleSubmit = async () => {\n        setLoading(true);\n\n        const response = await addHitRequest(point, userInfo.token);\n\n        if (response.message) {\n            dispatch(showError({ detail: response.message }))\n            return;\n        }\n\n        dispatch(addHit(response));\n\n        setLoading(false);\n    }\n\n    return (\n        <div className=\"controller col-md\">\n            <label id=\"controller-title\">Control pane</label>\n\n            <div className=\"coordinateInput\">\n                <label className=\"coordinateName\">X</label>\n                <Slider value={point.x} min={-5} max={3} step={0.01} onChange={e => setPoint({ ...point, x: e.value })}/>\n                <span className=\"coordinateValue\">{point.x}</span>\n            </div>\n            <div className=\"coordinateInput\">\n                <label className=\"coordinateName\">Y</label>\n                <Slider value={point.y} min={-5} max={5} step={0.01} onChange={e => setPoint({ ...point, y: e.value })}/>\n                <span className=\"coordinateValue\">{point.y}</span>\n                {/* <InputNumber\n                    value={point.y} onValueChange={e => setPoint({ ...point, y: e.value })}\n                    min={-3} max={3} minFractionDigits={0} maxFractionDigits={2}\n                />\n                <span className=\"coordinateValue\"></span> */}\n            </div>\n            <div className=\"coordinateInput\">\n                <label className=\"coordinateName\">R</label>\n                <Slider value={point.r} min={0.5} max={3} step={0.5} onChange={handleRChange}/>\n                <span className=\"coordinateValue\">{point.r}</span>\n            </div>\n\n            <div className=\"submitButton coordinateInput\">\n                <Button label=\"Check\" icon=\"pi pi-times-circle\" iconPos=\"right\" loading={isLoading} onClick={handleSubmit} />\n            </div>\n            {/* <p>Current data. X: {point.x}, Y: {point.y}, R: {point.r}</p> */}\n        </div>\n    );\n}\n\nexport default UserInput;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}