{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { getHitsRequest } from \"../service/Service\";\nconst storageToken = localStorage.getItem(\"token\");\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    auth: Boolean(storageToken),\n    token: storageToken || '',\n    hits: [],\n    r: 1.0\n  },\n  reducers: {\n    addHit(state, action) {\n      state.hits.unshift(action.payload);\n    },\n    setHits(state, action) {\n      state.hits = action.payload;\n    },\n    clearHits(state, action) {\n      state.hits = [];\n    },\n    changeR(state, action) {\n      state.r = parseFloat(action.payload);\n    },\n    authorize(state, action) {\n      localStorage.setItem(\"token\", action.payload);\n      state.token = action.payload;\n      state.auth = true;\n      console.log(\"User authorized\");\n    },\n    logOut(state, action) {\n      localStorage.setItem(\"token\", '');\n      state.auth = false;\n      state.token = '';\n      state.hits = [];\n    }\n  }\n});\nexport const {\n  addHit,\n  setHits,\n  clearHits,\n  changeR,\n  authorize,\n  logOut\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","getHitsRequest","storageToken","localStorage","getItem","userSlice","name","initialState","auth","Boolean","token","hits","r","reducers","addHit","state","action","unshift","payload","setHits","clearHits","changeR","parseFloat","authorize","setItem","console","log","logOut","actions","reducer"],"sources":["/Users/nylon/itmo/web/fourth/Lab4/frontend/src/store/userSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport {getHitsRequest} from \"../service/Service\";\n\nconst storageToken = localStorage.getItem(\"token\");\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState: {\n        auth: Boolean(storageToken),\n        token: storageToken || '',\n        hits: [],\n        r: 1.0\n    },\n    reducers: {\n        addHit(state, action) {\n            state.hits.unshift(action.payload);\n        },\n        setHits(state, action) {\n            state.hits = action.payload;\n        },\n        clearHits(state, action) {\n            state.hits = [];\n        },\n        changeR(state, action) {\n            state.r = parseFloat(action.payload);\n        },\n        authorize(state, action) {\n            localStorage.setItem(\"token\", action.payload);\n            state.token = action.payload;\n            state.auth = true;\n            console.log(\"User authorized\");\n        },\n        logOut(state, action) {\n            localStorage.setItem(\"token\", '');\n            state.auth = false;\n            state.token = '';\n            state.hits = [];\n        }\n    },\n});\n\nexport const {addHit, setHits, clearHits, changeR, authorize, logOut} = userSlice.actions;\n\nexport default userSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAAQC,cAAc,QAAO,oBAAoB;AAEjD,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAElD,MAAMC,SAAS,GAAGL,WAAW,CAAC;EAC1BM,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,IAAI,EAAEC,OAAO,CAACP,YAAY,CAAC;IAC3BQ,KAAK,EAAER,YAAY,IAAI,EAAE;IACzBS,IAAI,EAAE,EAAE;IACRC,CAAC,EAAE;EACP,CAAC;EACDC,QAAQ,EAAE;IACNC,MAAM,CAACC,KAAK,EAAEC,MAAM,EAAE;MAClBD,KAAK,CAACJ,IAAI,CAACM,OAAO,CAACD,MAAM,CAACE,OAAO,CAAC;IACtC,CAAC;IACDC,OAAO,CAACJ,KAAK,EAAEC,MAAM,EAAE;MACnBD,KAAK,CAACJ,IAAI,GAAGK,MAAM,CAACE,OAAO;IAC/B,CAAC;IACDE,SAAS,CAACL,KAAK,EAAEC,MAAM,EAAE;MACrBD,KAAK,CAACJ,IAAI,GAAG,EAAE;IACnB,CAAC;IACDU,OAAO,CAACN,KAAK,EAAEC,MAAM,EAAE;MACnBD,KAAK,CAACH,CAAC,GAAGU,UAAU,CAACN,MAAM,CAACE,OAAO,CAAC;IACxC,CAAC;IACDK,SAAS,CAACR,KAAK,EAAEC,MAAM,EAAE;MACrBb,YAAY,CAACqB,OAAO,CAAC,OAAO,EAAER,MAAM,CAACE,OAAO,CAAC;MAC7CH,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACE,OAAO;MAC5BH,KAAK,CAACP,IAAI,GAAG,IAAI;MACjBiB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAClC,CAAC;IACDC,MAAM,CAACZ,KAAK,EAAEC,MAAM,EAAE;MAClBb,YAAY,CAACqB,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;MACjCT,KAAK,CAACP,IAAI,GAAG,KAAK;MAClBO,KAAK,CAACL,KAAK,GAAG,EAAE;MAChBK,KAAK,CAACJ,IAAI,GAAG,EAAE;IACnB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAACG,MAAM;EAAEK,OAAO;EAAEC,SAAS;EAAEC,OAAO;EAAEE,SAAS;EAAEI;AAAM,CAAC,GAAGtB,SAAS,CAACuB,OAAO;AAEzF,eAAevB,SAAS,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}